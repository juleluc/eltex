# Модуль чтения и записи Proc в ядре Linux  
## Cоздайте следующий модуль proc.c
- Введите лицензию, автора

![](images/1.png)   
## Адаптировать для своей версии ядра (Структура обработчиков). Избавиться от харкода (маг чисел) и изолировать переменные модуля (static)
- Избавились от маг чисел, и изолизовали переменные модуля  

![](images/2.png)   
- При компиляции получили сообщение о предупреждении в фунциях `copy_to_user` и `copy_from_user`, что  функции вызываются без проверки возвращаемого значения.

![](images/3.png)   
- Добавил локальную переменную `rv` для хранинения результата работы функций. Предупреждение исчезло.  

![](images/6.png)   

## Проверить, что новый модуль вставился в ядро  
- `insmod` вставит новый модуль в ядро  
- Ввести команду `dmesg | tail -1` для просмотра системного журнала  

![](images/7.png)    
- Содержимое /proc  

![](images/4.png)  
## Запись в файл и чтения wocao в системе /proc
![](images/5.png)  


![](images/8.png)  